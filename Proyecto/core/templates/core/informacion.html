{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<main class="h-[90vh] w-full py-5 px-[10vw]">
    <section class="h-full w-full bg-black flex flex-row shadow-sm shadow-slate-950">
        <div class="h-full w-[30vw]">
            <img src="{{libro.portada}}" alt="" class="h-full w-full">
        </div>
        <div class="w-[40vw] flex flex-col text-white py-[2vh] justify-between mx-auto">
            <div class="flex flex-col gap-5">
                <div class="flex flex-row justify-between">
                    <div class="flex flex-col">
                        <h1 class="text-3xl font-extralight">{{libro.titulo}}</h1>
                        <h2 class="text font-semibold">De {{libro.autor}}</h2>
                        <h2 class="font-thin">{{libro.categoria}}</h2>
                        <h2 class="font-thin">{{libro.a√±o}}</h2>
                    </div>
                        <!-- Usuario anonimo redirige a template registro, de lo contrario se agrega a los libros favoritos del usuario -->
                        {% if not user.is_authenticated %}
                            <a href="{% url 'Registro'%}?siguiente={{request.path}}&id={{libro.id}}">
                                <img src="{% static 'core/bookmark-sin-marcar.svg' %}" alt="" class="h-[8vh] invert hover:scale-110 hover:cursor-pointer duration-300 mt-[1vh]">
                            </a>
                        {% else %}
                            {% if request.user.is_staff is False %}
                            <!-- Usuario normal -->
                                {% if libro.libro_marcado %}
                                    <a href="{% url 'Quitar-marcado' libro.id %}">
                                        <img src="{% static 'core/bookmark-marcado.svg' %}" alt="" class="h-[8vh] invert hover:scale-110 hover:cursor-pointer duration-300 mt-[1vh]">
                                    </a>
                                {% else %}
                                    <a href="{% url 'Marcar-libro' libro.id %}" >
                                        <img src="{% static 'core/bookmark-sin-marcar.svg' %}" alt="" class="h-[8vh] invert hover:scale-110 hover:cursor-pointer duration-300 mt-[1vh]">
                                    </a>
                                {% endif %}
                            {% else %}
                            <!-- Admin y staff -->
                                <a href="{% url 'admin:api_libro_change' libro.id %}">
                                    <img src="{% static 'core/settings-sharp.svg' %}" alt="" class="h-[8vh] invert hover:scale-110 hover:cursor-pointer duration-300 mt-[1vh]">
                                </a>
                            {% endif %}
                        {% endif %}
                    </div>
                <hr>
                <div class="w-full">
                    <p class="text-xs text-justify">{{libro.descripcion}}</p>
                </div>
            </div>
        </div>
    </section>
</main>
{% endblock %}